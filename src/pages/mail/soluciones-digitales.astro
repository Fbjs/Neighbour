---
import Layout from '~/layouts/Layout.astro';

const title = `Soluciones Digitales`;
const imageUrl = "https://neighbour.cl/Linkedin-hoy.webp";
const altText = "Imagen del contenido";
const fallbackUrl = "https://neighbour.cl/Linkedin-hoy.webp";

---

<Layout metadata={{ title }}>
  <section id="theme-section" class="flex items-center h-screen bg-white dark:bg-dark">
    <div class="container flex flex-col items-center justify-center px-5 mx-auto my-8">
      <div id="theme-container" class="max-w-lg text-center p-4 bg-slate-300 dark:bg-slate-700">
        <div class="text-center mb-5">
          <img src={imageUrl} alt={altText} class="w-full h-auto" />
        </div>

        <p class="text-center">
          ¡Hola! Este es el contenido principal de tu correo. Aquí puedes añadir más información.
        </p>

        <div class="text-sm text-gray-500 text-center mt-5">
          Si no puedes ver este mensaje correctamente, haz clic 
          <a href={fallbackUrl} class="text-blue-500 underline">aquí</a> para verlo en tu navegador.
        </div>
      </div>
    </div>
    <button
      id="theme-toggle"
      class="fixed top-4 right-4 p-3 bg-blue-500 text-white rounded-full shadow-lg transition-transform duration-300 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-300 dark:bg-blue-600"
      aria-label="Cambiar Tema"
    >
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" />
        <path d="M12 3l0 18" />
        <path d="M12 9l4.65 -4.65" />
        <path d="M12 14.3l7.37 -7.37" />
        <path d="M12 19.6l8.85 -8.85" />
      </svg>
    </button>
  </section>

  <script>
    // Función para alternar el tema
    function toggleTheme() {
      const currentTheme = localStorage.getItem('theme') || 'light';
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      localStorage.setItem('theme', newTheme);
      document.documentElement.classList.toggle('dark', newTheme === 'dark');
    }

    // Inicializar el tema según la preferencia guardada
    document.addEventListener('DOMContentLoaded', () => {
      const savedTheme = localStorage.getItem('theme') || 'light';
      if (savedTheme === 'dark') {
        document.documentElement.classList.add('dark');
      }

      // Configurar el botón de cambio de tema
      document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
    });
  </script>
</Layout>
